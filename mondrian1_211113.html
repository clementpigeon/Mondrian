<html>
<head>
	<title>Mondrian</title>
</head>
<body>

<style type="text/css">
#display {
    background-color: #fff;
    margin: 100px;
}
body {
    background-color: #999;
}

</style>


<canvas id='display' width='500' height='400'></canvas>

<script type="text/javascript" src='http://code.createjs.com/createjs-2013.09.25.min.js'></script>
<script type="text/javascript" src='http://code.jquery.com/jquery-1.10.2.js'></script>
<script type="text/javascript">


// simulating click on (200, 100)

var stageWidth = 500;
var stageHeight = 400;
var $canvas = $('#display');

var stage = new createjs.Stage('display');

$canvas.on('click', function(event){
	var click_point = new createjs.Point(event.offsetX, event.offsetY);
	// drawPoint(click_point);
	addLinesFromPoint(click_point);
});



function drawPoint(click_point){
	var origin = new createjs.Shape();
	origin.graphics.beginFill("#f00").drawRect(-3, -3, 6, 6);
	// drawRect draws from the graphics referential
	origin.x = click_point.x;
	origin.y = click_point.y;
	stage.addChild(origin);
}


function addLinesFromPoint(click_point){
	// vertical line
	var h_line = new createjs.Shape();
	h_line.graphics.beginFill("#000");

	var h_line_min = 0;
	var h_line_max = 500;

	h_line.graphics.drawRect(0, -5, h_line_max -  h_line_min, 10);
	h_line.x = click_point.x;
	h_line.y = click_point.y;
	h_line.scaleX = 0;
	createjs.Tween.get(h_line).to({scaleX: 1, x: h_line_min}, 2000).call(handleComplete);

	// vertical line
	var v_line = new createjs.Shape();
	v_line.graphics.beginFill("#000");

	var v_line_min = 0;
	var v_line_max = 400;

	v_line.graphics.drawRect(- 5, 0, 10, v_line_max - v_line_min);
	v_line.x = click_point.x; 
	v_line.y = click_point.y;

	v_line.scaleY = 0;
	createjs.Tween.get(v_line).to({scaleY: 1, y: v_line_min}, 2000).call(handleComplete);

	function handleComplete() {
	    //Tween complete
	};

	stage.addChild(h_line);
	stage.addChild(v_line);
}



createjs.Ticker.setFPS(40);
createjs.Ticker.addEventListener('tick', tick);


function tick(event){
	stage.update();	
};






</script>


</body>

</html>